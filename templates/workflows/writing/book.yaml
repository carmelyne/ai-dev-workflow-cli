name: book
description: A workflow for writing a book with AI assistance
extends: base  # Extend the base workflow
tags:
  - writing
  - book
  - creative
  - documentation

dependencies:
  - context/preservation  # To maintain context between writing sessions

configuration:
  # Inherit base configuration
  <<: *base_config
  
  book_structure:
    title: string
    genre: string
    target_audience: string
    chapters:
      - title: string
        summary: string
    
  writing_style:
    tone: 
      type: enum
      options: [formal, casual, technical, narrative]
    pov:
      type: enum
      options: [first_person, second_person, third_person]

steps:
  # Base steps are automatically included
  1_outline:
    description: Create a detailed book outline
    guidelines:
      - Define book title and genre
      - Identify target audience
      - Create chapter structure
      - Write brief chapter summaries
    files:
      - outline.md
      - chapter_summaries.md

  2_research:
    description: Gather necessary research and references
    guidelines:
      - Collect relevant sources
      - Take research notes
      - Organize reference materials
    files:
      - research/sources.md
      - research/notes.md

  3_draft:
    description: Write chapter drafts
    guidelines:
      - Follow established writing style
      - Maintain consistent voice
      - Include chapter transitions
      - Track word count goals
    files:
      - drafts/{chapter_number}.md

  4_review:
    description: Review and revise content
    guidelines:
      - Check for plot consistency
      - Verify character development
      - Review pacing
      - Ensure style consistency
    files:
      - reviews/{chapter_number}.md
      - revision_notes.md

  5_feedback:
    description: Gather and incorporate feedback
    guidelines:
      - Share with beta readers
      - Document feedback received
      - Plan revisions
    files:
      - feedback/beta_readers.md
      - feedback/revision_plan.md

  6_finalize:
    description: Prepare final manuscript
    guidelines:
      - Format manuscript
      - Proofread content
      - Prepare front/back matter
      - Create submission package
    files:
      - final/manuscript.md
      - final/synopsis.md
      - final/query_letter.md

prompts:
  outline:
    - What is the main theme of your book?
    - Who is your target audience?
    - What are the key plot points or topics?
    - How many chapters do you envision?

  chapter:
    - What is the main goal of this chapter?
    - What key events or information should be covered?
    - How does this chapter connect to the overall narrative?
    - What character development occurs here?

  review:
    - Does the chapter achieve its intended purpose?
    - Is the pacing appropriate?
    - Are there any plot holes or inconsistencies?
    - Is the writing style consistent?

outputs:
  - outline.md
  - chapter_summaries.md
  - drafts/
  - final/manuscript.md
